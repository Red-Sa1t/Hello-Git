# 题目学习流程&坑

## 题目一

### 七层模型 五层模型

“**OSI模型**，即**开放式通信系统互联参考模型**（***Open System Interconnection Reference Model\***），是国际标准化组织ISO提出的一个试图使各种计算机在世界范围内互连为网络的标准框架，简称OSI。”

#### OSI七层模型

OSI定义了网络互连的七层模型（物理层、数据链路层、网络层、传输层、会话层、表示层、应用层），如下图所示：



![img](https://picx.zhimg.com/80/v2-794aa7d2b0da939f8559f29ae28136c7_1440w.webp)

**应用层：为应用程序或用户请求提供各种请求服务。**OSI最高层，也是最靠近用户的一层，为计算机用户、各种应用程序以及网络提供接口，也为用户直接提供各种网络服务。

**表示层：数据编码、格式转换、数据加密。**提供各种用于应用层数据的编码和转换功能,确保一个系统的应用层发送的数据能被另一个系统的应用层识别。如果必要，该层可提供一种标准表示形式，用于将计算机内部的多种数据格式转换成通信中采用的标准表示形式。数据压缩和加密也是表示层可提供的转换功能之一。

**会话层：创建、管理和维护会话。**接收来自传输层的数据，负责建立、管理和终止表示层实体之间的通信会话，支持它们之间的数据交换。该层的通信由不同设备中的应用程序之间的服务请求和响应组成。

**传输层：数据通信。**建立主机端到端的链接，为会话层和网络层提供端到端可靠的和透明的数据传输服务，确保数据能完整的传输到网络层。

**网络层：IP选址及路由选择。**通过路由选择算法，为报文或通信子网选择最适当的路径。控制数据链路层与传输层之间的信息转发，建立、维持和终止网络的连接。数据链路层的数据在这一层被转换为数据包，然后通过路径选择、分段组合、顺序、进/出路由等控制，将信息从一个网络设备传送到另一个网络设备。

**数据链路层：提供介质访问和链路管理。**接收来自物理层的位流形式的数据，封装成帧，传送到网络层；将网络层的数据帧，拆装为位流形式的数据转发到物理层；负责建立和管理节点间的链路，通过各种控制协议，将有差错的物理信道变为无差错的、能可靠传输数据帧的数据链路。

**物理层：管理通信设备和网络媒体之间的互联互通。**传输介质为数据链路层提供物理连接，实现比特流的透明传输。实现相邻计算机节点之间比特流的透明传送，屏蔽具体传输介质和物理设备的差异。

#### TCP/IP五层模型

TCP/IP是一组协议的代名词，它包括许多协议，组成了TCP/IP协议簇。它是把OSI七层模型简化成了五层模型。每一层都呼叫它的下一层所提供的网络来完成自己的需求

![img](https://pic2.zhimg.com/80/v2-c29b86bf577e18f4c94bef7b84d590e9_1440w.webp)

#### **区别**

开放式系统互联模型（OSI）是一个参考标准，解释协议相互之间应该如何相互作用。TCP/IP协议是美国国防部发明的，是让互联网成为了目前这个样子的标准之一。开放式系统互联模型（OSI）中没有清楚地描绘TCP/IP协议，但是在解释TCP/IP协议时很容易想到开放式系统互联模型（OSI）。两者的主要区别如下：

TCP/IP协议中的应用层处理开放式系统互联模型（OSI）中的第五层、第六层和第七层的功能。

TCP/IP协议中的传输层不能保证数据包在该层总是能够安全可靠地传输，而开放式系统互联模型（OSI）可以做到。

TCP/IP协议还提供一项名为UDP（用户数据报协议）的选择。

来源:[一文读懂OSI七层模型和TCP/IP五层模型 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/143654140)

### HTTP和HTTPS

#### 1 概述

为实现Web浏览器和网站服务器之间的信息传递，我们一般会采用[HTTP协议](https://zhida.zhihu.com/search?q=HTTP协议&zhida_source=entity&is_preview=1)进行通信。不过需要注意的是，HTTP以明文方式发送内容且没有提供任何形式的数据加密功能，在涉及敏感信息（如信用卡号、密码等支付相关内容）时存在安全隐患。因此，我们应该使用另一种更为安全可靠的协议：HTTPS。HTTPS在HTTP基础上引入了SSL协议，并通过证书验证服务器身份以确保通信过程中数据得到合理保护和加密处理。

#### 2 **HTTP和HTTPS的基本概念**

HTTP是一种广泛使用的[网络协议](https://zhida.zhihu.com/search?q=网络协议&zhida_source=entity&is_preview=1)，用于浏览器和服务器之间的请求和应答。它基于TCP协议，用于从WWW服务器传输超文本到本地浏览器。HTTP可以提高浏览器效率，减少网络传输。

HTTPS旨在提供一个安全、可靠的HTTP通道。简而言之，它是对HTTP进行加密保护后的版本，在其基础上添加了SSL层以实现更高级别的安全性保障。HTTPS所采用加密技术基于SSL来实现。

#### 3 HTTP与HTTPS有什么区别？

由于HTTP协议传输的数据是明文格式的，因此发送隐私信息时存在着安全风险。为确保数据传输安全性，[网景公司](https://zhida.zhihu.com/search?q=网景公司&zhida_source=entity&is_preview=1)推出了SSL（Secure Sockets Layer）协议，并在其基础上创造出了HTTPS通信方式。简而言之，HTTPS是一种安全、支持加密传输和身份认证功能的网络通信方式，它是在SSL与HTTP结合后诞生的。

HTTPS和HTTP的区别主要如下：

　　1、https协议需要到ca申请证书，一般免费证书较少，因而需要一定费用。

　　2、http是[超文本传输协议](https://zhida.zhihu.com/search?q=超文本传输协议&zhida_source=entity&is_preview=1)，信息是明文传输，https则是具有安全性的ssl加密传输协议。

　　3、http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。

　　4、http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比[http协议](https://zhida.zhihu.com/search?q=http协议&zhida_source=entity&is_preview=1)安全。

来源:[只看这一篇就能搞懂Http和Https协议区别 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/631089816)

### **WebSocket 和 Socket**

WebSocket 和 Socket 之间的最大区别是**它们是如何在应用程序和服务器之间传输数据的**。

Socket 是一个应用程序和底层操作系统之间的接口，它允许应用程序通过TCP 和 UDP 协议来发送和接收数据。Socket 主要用于客户端和服务器之间的数据传输。Socket 需要建立连接之后，才能进行数据传输。

通常情况下，应用程序通过使用套接字接口发送 TCP 协议的数据来实现 Socket。



[**WebSocket**](https://apifox.com/apiskills/what-is-websocket/) 是一种网络协议，建立在 HTTP 协议之上，允许双向通信。WebSocket 协议允许服务器发送数据到客户端，同时也可以让客户端向服务器发送数据。WebSocket 使用 HTTP 协议的升级请求和响应来建立连接。WebSocket 的主要优点在于它可以通过单一的TCP连接来实现双向通信，从而减少了连接的开销并提高了数据传输的速度。



在总体上，WebSocket 相对于 Socket 来说，是一种更高级的技术。

Socket 处理低层次的网络传输，而 WebSocket 是在 HTTP 协议之上的二层协议，使用更容易，效率也更高，同时也支持双向实时通讯。



### **区别总结**

#### **协议不同**

Socket 是基于传输层 TCP 协议的，而 Websocket 是基于 HTTP 协议的。

Socket 通信是通过 Socket 套接字来实现的，而 Websocket 通信是通过 HTTP 的握手过程实现的。

#### **持久化连接**

传统的 Socket 通信是基于短连接的，通信完成后即断开连接。

Websocket 将 HTTP 协议升级后，实现了长连接，即建立连接后可以持续通信，避免了客户端与服务端频繁连接和断开连接的过程。

#### **双向通信**

传统的 Socket 通信只支持单向通信，即客户端向服务端发送请求，服务端进行响应。

Websocket 可以实现双向通信，即客户端和服务端都可以发起消息，实时通信效果更佳。

#### **效率**

Socket 通信具有高效性和实时性，因为传输数据时没有 HTTP 协议的头信息。

Websocket 除了HTTP协议头之外，还需要发送额外的数据，因此通信效率相对较低。

#### **应用场景**

Socket 适用于实时传输数据，例如在线游戏、聊天室等需要快速交换数据的场景。

Websocket 适用于需要长时间保持连接的场景，例如在线音视频、远程控制等。

#### **安全性**

由于 Websocket 是基于HTTP协议的，与 HTTP 一样，也可以通过 SSL/TLS 加密来保障通信安全。

Socket 通信需要自己在应用层实现加密，相对较为复杂。

来源:https://apifox.com/apiskills/websocket-socket-difference/



### 访问web服务器

一、安装Web服务器软件
在购买了Web服务器后，您需要在服务器上安装Web服务器软件，例如Apache、Nginx等。这些软件可以为您的网站提供基础架构，并处理来自客户端的请求。在安装过程中，您需要根据服务商提供的[文档](https://cloud.baidu.com/product/doc.html)或指南进行操作，并注意配置好服务器的[网络](https://cloud.baidu.com/product/et.html)和[安全](https://cloud.baidu.com/solution/security/soc.html)设置。
二、新建站点
在Web服务器上新建一个站点，您需要创建一个新的文件夹来存储该站点的文件。在该文件夹中，您可以存放站点的HTML文件、图片、[视频](https://cloud.baidu.com/product/mct.html)等资源。在Web服务器软件中，您需要配置站点的[虚拟主机](https://cloud.baidu.com/product/bch.html)（Virtual Host），以便将特定的域名或URL路径映射到该站点文件夹。配置完成后，您的站点就可以通过相应的域名进行访问了。
三、发布网站
将您的网站内容上传到Web服务器上，可以通过FTP、SFTP或SCP等方式进行文件传输。在上传文件时，请确保文件权限的设置正确，并避免上传敏感信息或数据。上传完成后，您可以通过浏览器访问您的网站，检查页面是否正常显示、功能是否正常工作。
四、域名解析
为了让用户通过域名访问您的网站，您需要进行域名解析。域名解析是将域名映射到Web服务器的IP地址的过程。在[域名注册](https://cloud.baidu.com/product/bcd.html)商的网站上，您可以通过设置DNS（Domain Name System）记录来完成域名解析。通常，您需要设置两条A记录，将您的域名映射到Web服务器的公网IP地址。此外，您还可以设置一条MX记录，指定用于接收电子邮件的服务器IP地址。
五、配置反向代理
如果您需要将多个网站部署在同一台Web服务器上，可以使用反向代理来提高性能和安全性。反向代理是一种服务器软件，它可以将来自客户端的请求转发到后端服务器上处理，并将结果返回给客户端。通过配置反向代理，您可以实现[负载均衡](https://cloud.baidu.com/product/blb.html)、缓存等功能，并提高网站的响应速度和稳定性。

来源:[建站：配置Web服务器与域名访问-百度开发者中心 (baidu.com)](https://developer.baidu.com/article/detail.html?id=2370586)

## 题目二

### 一、

1. **输入网址**：
	- 你在你的网络浏览器中输入一个网址（例如 `www.example.com`）。
2. **DNS解析**：
	- 你的电脑首先会检查本地DNS缓存，看是否已经存储了该网址对应的IP地址。
	- 如果没有找到，它会向本地DNS服务器发送一个查询请求，以获取网站的IP地址。
3. **建立TCP连接**：
	- 一旦你的电脑获得了网站的IP地址，它会通过传输控制协议（TCP）建立到网站服务器的连接。
4. **发送HTTP请求**：
	- TCP连接建立后，你的电脑会通过这个连接发送一个HTTP（或HTTPS，如果是加密连接）请求到服务器。
5. **服务器处理请求**：
	- 远程服务器接收到请求后，会根据请求的类型（如HTML页面、图片、视频等）处理这个请求。
	- 服务器可能会查询数据库或执行其他必要的操作来生成响应。
6. **发送响应**：
	- 服务器将请求的结果打包成一个HTTP响应发送回你的电脑。
7. **浏览器渲染页面**：
	- 你的电脑接收到服务器的响应后，浏览器会解析HTML、CSS和JavaScript代码，并渲染成你看到的网页。
8. **关闭TCP连接**：
	- 一旦数据传输完成，TCP连接通常会被关闭，除非你的浏览器和服务器都支持持久连接（HTTP/1.1的keep-alive或HTTP/2）。
9. **网络设备参与**：
	- 在数据包从你的电脑传输到服务器的过程中，可能会经过多个网络设备，如路由器、交换机和网关。这些设备负责将数据包从一个网络转发到另一个网络。
10. **物理传输**：
	- 数据实际上是通过物理介质（如光纤、双绞线或无线电波）传输的，这些介质由互联网服务提供商（ISP）管理。

在整个过程中，还可能涉及到网络安全措施，如防火墙、入侵检测系统等，以及性能优化技术，如负载均衡器和内容分发网络（CDN）。这些技术和设备确保了数据的安全、快速和可靠传输。

来源ai

### 二、

可能的原因:

- **DNS过滤**：通过修改DNS响应，使得请求特定网站的用户无法获得正确的IP地址，从而无法访问目标网站。

- **IP地址封锁**：直接封锁特定IP地址，使得用户无法与目标服务器建立连接。

长城防火墙主要在传输层和网络层进行阻断用户与服务器的连接



## 题目三

### 区别:

最主要的区别:**域名不同**

其他区别:

1. **地理位置和访问速度**：镜像站通常位于不同的地理位置，这样可以为特定地区的用户提供更快的访问速度。如果原网站在某个地区访问速度慢或者无法访问，用户可以通过镜像站来访问内容。
2. **内容更新**：镜像站的内容是定期从原网站同步过来的，可能会有一定的延迟。原网站的内容是实时更新的，而镜像站可能需要时间来同步最新的内容。
3. **管理维护**：镜像站需要额外的管理和维护工作，以确保内容的同步和服务器的正常运行。原网站则需要处理内容的创建和更新。
4. **安全性**：镜像站可能会因为同步机制的问题，导致敏感信息的泄露。原网站则需要采取更多的安全措施来保护数据。
5. **目的**：原始网站是内容最初发布的地方，它是用户访问的主要目的地，提供最新和官方的内容。镜像站旨在为原始网站提供备份，以便在主站不可用时提供相同内容的访问，或是为了提高在特定地区的访问速度和可靠性。

### 搭建:

1. **服务器硬件**：首先，你需要一台服务器，最好是专用的，以确保有足够的存储空间和网络带宽。服务器的配置要足够优秀。
2. **同步工具**：使用如 `rsync` 或 `tunasync` 等工具来同步数据。`rsync` 是一个常用的远程文件同步工具，而 `tunasync` 是清华大学开源软件镜像站开发的镜像管理器，适用于构建软件镜像服务。
3. **系统配置**：在操作系统中进行必要的配置，如创建用户及用户组、建立应用及数据目录等。
4. **配置文件**：为 `rsync` 或 `tunasync` 等同步工具创建配置文件，指定同步源、目标目录、同步周期等。
5. **网络设置**：确保服务器的网络设置正确，包括DNS解析、防火墙规则等，以便用户可以访问镜像站。
6. **Web服务**：搭建Web服务器（如Apache、Nginx）来提供HTTP或HTTPS服务，让用户可以通过浏览器访问镜像站。
7. **安全措施**和**监控和维护**:  搭建服务器完成后进行安全设施的配置和定期对服务器进行监控和维护。

### 心目中的网站

想要搭建一个可以记录学习进程和日常的博客网站

## 题目四

### HTTP代理

HTTP代理是一种充当客户端和服务器之间的**中间人**的服务器。当客户端发起请求时，HTTP代理会拦截请求并将其转发给目标服务器。一旦目标服务器响应，HTTP代理会拦截响应并将其转发回客户端。HTTP代理可以被用于多种场景，例如加强安全、缓存内容以加速访问、访问受限资源等等。

#### 作用

HTTP代理的主要作用是拦截客户端和服务器之间的网络请求和响应，然后转发它们。HTTP代理可以用于以下场景：

**加强安全性**：HTTP代理可以拦截和检查请求和响应，从而过滤出不安全或有害的内容，同时保护客户端和服务器的隐私和安全。

**提高性能**：HTTP代理可以缓存常用内容，从而加速响应速度。当客户端请求相同的内容时，HTTP代理可以直接从缓存中返回响应，而无需重新请求服务器。这可以显著提高页面加载速度和减轻服务器负载。

**访问受限资源**：有些资源可能因为地理位置、政策、权限等原因而被访问受限。HTTP代理可以通过转发请求和响应，从而使客户端绕过这些限制，访问受限资源。

#### 原理

客户端的处理流程：

![客户端的处理流程](https://images2015.cnblogs.com/blog/519052/201601/519052-20160129154209271-308333233.png)

代理服务器的处理流程：

![代理服务器的处理流程](https://images2015.cnblogs.com/blog/519052/201601/519052-20160129154311099-1052006955.png)

具体影响的是七层模型中的应用层

#### 具体过程

**客户端配置代理服务器**

**客户端发送请求**

**代理服务器接收请求**

**代理服务器处理请求**

**目标服务器响应**

**代理服务器转发响应**

**客户端接收响应**

#### 相似之处

1. 表姐的电脑代表代理服务器,小王对表姐电脑进行操作并下载资料代表客户端发送请求,代理服务器接收和处理最后向目标服务器发送请求请求的过程

2. 表姐电脑到下载资料相当于目标服务器相应的过程,再用表姐电脑转发到自己的电脑相当于代理服务器转发响应和客户端接收相应的过程

## 题目五

### 漏洞

```sql
-- Retrieve the username and password parameters [From GET]
SELECT * FROM users WHERE username='{username}' AND password='{password}';
```

注入输入后为:

```sql
-- Retrieve the username and password parameters [From GET]
SELECT * FROM users WHERE username= ' OR '20246045'='20246045'
```

对这一部分内容的理解比较吃力, 不知道是否正确

### 改进

`{username}`和`{password}`是直接插入到查询中的字符串，而不是变量或参数。把用户输入的数据当作代码来执行，违背了“数据与代码分离”的原则

应该使用参数化查询，而不是直接将用户输入拼接到SQL语句中。

来源ai